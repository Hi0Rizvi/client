log "logs/bird.log" all;
router id 192.168.51.51;

filter peering_out {
	if ! ( net ~ [ 184.164.224.0/19{19,24} ] ) then {
		reject;
	}
	if ( bgp_path.len > 5 ) then {
		reject;
	}
	include "configs/filters.conf";
	accept;
}

template bgp peering {
	local as 65000;
	allow local as 2;
	import all;
	export filter peering_out;
}

protocol bgp gatech from peering {
	neighbor 10.195.0.1 as 47065;
}

protocol static {
	route 184.164.224.0/24 via "lo";
	route 184.164.225.0/24 via "lo";
	route 184.164.226.0/24 via "lo";
	route 184.164.227.0/24 via "lo";
	route 184.164.228.0/24 via "lo";
	route 184.164.229.0/24 via "lo";
	route 184.164.230.0/24 via "lo";
	route 184.164.231.0/24 via "lo";
	route 184.164.232.0/24 via "lo";
	route 184.164.233.0/24 via "lo";
	route 184.164.234.0/24 via "lo";
	route 184.164.235.0/24 via "lo";
	route 184.164.236.0/24 via "lo";
	route 184.164.237.0/24 via "lo";
	route 184.164.238.0/24 via "lo";
	route 184.164.239.0/24 via "lo";
	route 184.164.240.0/24 via "lo";
	route 184.164.241.0/24 via "lo";
	route 184.164.242.0/24 via "lo";
	route 184.164.243.0/24 via "lo";
	route 184.164.244.0/24 via "lo";
	route 184.164.245.0/24 via "lo";
	route 184.164.246.0/24 via "lo";
	route 184.164.247.0/24 via "lo";
	route 184.164.248.0/24 via "lo";
	route 184.164.249.0/24 via "lo";
	route 184.164.250.0/24 via "lo";
	route 184.164.251.0/24 via "lo";
	route 184.164.252.0/24 via "lo";
	route 184.164.253.0/24 via "lo";
	route 184.164.254.0/24 via "lo";
	route 184.164.255.0/24 via "lo";
}

protocol device {
	scan time 10;
}

protocol direct {
	interface "tun*";
}
